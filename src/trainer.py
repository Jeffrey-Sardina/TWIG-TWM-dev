'''
Precompute struct half each batch, then use it again
should result in a 2x speed boost
'''